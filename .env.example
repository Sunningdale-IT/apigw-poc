# Dogcatcher Environment Configuration
# Copy this file to .env and update values for your environment
# NEVER commit .env files with real secrets!

# ===========================================
# Database Configuration
# ===========================================
# For production, use strong unique passwords
POSTGRES_PASSWORD=change-this-in-production

# ===========================================
# Dogcatcher API Configuration
# ===========================================
# Generate with: openssl rand -hex 32
DOGCATCHER_SECRET_KEY=change-this-in-production

# Comma-separated list of valid API keys
# Generate keys with: openssl rand -hex 16
DOGCATCHER_API_KEYS=your-api-key-here,another-key-here

# Set to 'true' to require API key authentication
API_KEY_REQUIRED=true

# Set to 'true' for development mode
DJANGO_DEBUG=false

# Comma-separated list of allowed hosts (use * for development)
ALLOWED_HOSTS=*

# ===========================================
# Proxy Configuration
# ===========================================
# 'dev' for local development, 'prod' for production
PROXY_MODE=dev

# Enable HTTPS (requires certificates)
ENABLE_HTTPS=false

# Enable mTLS client certificate verification
ENABLE_MTLS=false

# Your domain name (for Let's Encrypt and HTTPS)
DOMAIN=dogcatcher.jim00.pd.test-rig.nl

# ===========================================
# Kong API Gateway Configuration
# ===========================================
# Kong provides multiple authentication routes:
#   /public  - No authentication (Plain)
#   /apikey  - API Key authentication  
#   /jwt     - JWT token authentication
#   /mtls    - Mutual TLS (client certificate)
#   /oidc    - OpenID Connect authentication
#   /api     - Direct (backend handles auth)

# ===========================================
# OIDC Configuration (for /oidc route)
# ===========================================
# Configure these for OpenID Connect authentication
# Example providers: Keycloak, Auth0, Azure AD, Okta

# OpenID Connect discovery URL (/.well-known/openid-configuration)
# OIDC_DISCOVERY=https://your-idp.example.com/realms/master/.well-known/openid-configuration

# Client credentials from your identity provider
# OIDC_CLIENT_ID=dogcatcher-api
# OIDC_CLIENT_SECRET=your-client-secret-here

# ===========================================
# Model Citizen App Configuration
# ===========================================
# Generate with: openssl rand -hex 32
CITIZEN_SECRET_KEY=change-this-in-production

# URL to reach Dogcatcher API via Kong Gateway
# Use /public for unauthenticated access, /apikey for API key auth
API_GATEWAY_URL=http://kong:8000/public

# API key for authenticated access (optional, used with /apikey route)
DOGCATCHER_API_KEY=citizen-api-key-2026

# Public URL for Dogcatcher photos (via Kong public API route)
# Photos are served via the API endpoint /dogs/{id}/photo
DOGCATCHER_PUBLIC_URL=http://localhost:8000/public
